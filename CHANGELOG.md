# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](http://keepachangelog.com/)
and this project adheres to [Semantic Versioning](http://semver.org/).

## [Unreleased](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.34...HEAD)

## [0.1.34](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.33...0.1.34) - 2021-07-16

### Fixed

*   Add missing registry id. [ebc4f7f](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/ebc4f7fb16c9b8ced10fd220ad2c50d76126a3bd)

## [0.1.33](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.32...0.1.33) - 2021-07-16

### Fixed

*   Add missing auth key to ECR docker auth. [ea71afb](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/ea71afb71d0f3a583d2405efe185a5492d268d29)

## [0.1.32](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.31...0.1.32) - 2021-07-15

### Fixed

*   Use ECR auth for trivy. [ce29b0b](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/ce29b0b8f38fa3122ba9871f3fc2e14563308603)

## [0.1.31](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.30...0.1.31) - 2021-07-15

### Added

*   Rework rescan of images to include baselines. [#245](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/issues/245)
*   Scan_image not working for ECR private registries . [#155](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/issues/155)

## [0.1.30](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.29...0.1.30) - 2021-07-14

### Changed

*   Simplify scanning. [195cc27](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/195cc2759f12c6f8e4fa9550f7adb980fb6fa218)

## [0.1.29](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.28...0.1.29) - 2021-07-13

## [0.1.28](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.27...0.1.28) - 2021-07-13

### Changed

*   Always resolve app token. [e001c20](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/e001c20388e5f444e37051a15106341deecf408c)

## [0.1.27](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.26...0.1.27) - 2021-07-13

### Changed

*   Polish skip tranaction log message. [8e42bf5](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/8e42bf542a440fb9174d1d7bd5dd5e18fa220ada)

## [0.1.26](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.25...0.1.26) - 2021-07-13

## [0.1.25](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.24...0.1.25) - 2021-07-13

### Changed

*   Update trivy to 0.19.0. [168cc15](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/168cc15e955a5e221d0884be3e997563809070ab)
*   Transact vulnerabilities only when changed. [f88b3db](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/f88b3dbc47722e9fa31ba2e6e61e8014c702b9d7)

## [0.1.24](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.23...0.1.24) - 2021-07-10

## [0.1.23](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.22...0.1.23) - 2021-07-09

### Added

*   Clean up tmp files. [#267](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/issues/267)

## [0.1.22](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.21...0.1.22) - 2021-07-07

## [0.1.21](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.20...0.1.21) - 2021-07-07

## [0.1.20](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.19...0.1.20) - 2021-07-06

### Fixed

*   Filter for head baseline. [7824f18](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/7824f18dae528e2f88cf6334760cf4e38b86d7c3)
*   Do not fail on yum package manager. [b7ec465](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/b7ec465e211ab354b361d1a36eda5a65c068cc5f)

## [0.1.19](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.18...0.1.19) - 2021-06-30

### Fixed

*   Fix transaction issue with duplicate fix packages. [8e62b3a](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/8e62b3a22784e68bc8159721e98b098c8f1c5c79)

## [0.1.18](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.17...0.1.18) - 2021-06-30

### Fixed

*   Fix auth for container-diff. [7aade4d](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/7aade4df458f7af6041d8a826c72119a5f614b95)

## [0.1.17](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.16...0.1.17) - 2021-06-30

### Changed

*   Switch to container-diff to unpack layers. [586a918](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/586a918d6c186275e104f4e4744b5930f1a31cdb)

## [0.1.16](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.15...0.1.16) - 2021-06-29

### Fixed

*   Re-add correct subscription. [7b5e291](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/7b5e2911124c8aafdda87c2025ecba912f0a3ff1)

## [0.1.15](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.14...0.1.15) - 2021-06-29

## [0.1.14](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.13...0.1.14) - 2021-06-29

### Added

*   Add back missing transact_layers subscription. [05c2d98](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/05c2d981e7805703de6edfe0bfcf6e5c51639dd6)

### Changed

*   Require lines on docker files. [26cf3d1](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/26cf3d1fc66a1a02312b408803dcd5603b634be7)

## [0.1.13](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.12...0.1.13) - 2021-06-28

### Changed

*   Polish types. [b652fde](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/b652fde2f677a3c5df6b5cbfab2adc253e5b14b5)
*   Javascript heap out of memory when scanning a large image. [#229](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/issues/229)

## [0.1.12](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.11...0.1.12) - 2021-06-26

### Changed

*   Polish namings. [a62bf34](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/a62bf34f6cf9d082a664af47685d97ca91726a81)

## [0.1.11](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.10...0.1.11) - 2021-06-26

### Added

*   Keep previous discovery around. [7de4d03](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/7de4d03e061833f294d3b205cc546145a4453b3b)

## [0.1.10](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.9...0.1.10) - 2021-06-25

### Changed

*   Scan linux images only. [3f5551a](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/3f5551ac42aaeeb67f1d5d47bffa27d415168925)

## [0.1.9](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.8...0.1.9) - 2021-06-25

### Fixed

*   Bind ?ctx. [d7d4e0b](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/d7d4e0bcee74768a161a96c944d3cf2e128c4519)

## [0.1.8](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.7...0.1.8) - 2021-06-25

### Fixed

*   Fix argument order for attributes-tx. [a4a0e46](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/a4a0e4647d20f774aa457342dbd6a8cf129c5e79)

## [0.1.7](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.6...0.1.7) - 2021-06-25

### Changed

*   Move to safe datomic rules. [022f54d](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/022f54ddbf8920d752b31cc4f05b3ba5df96b677)

## [0.1.6](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.5...0.1.6) - 2021-06-24

### Changed

*   Fix analysis/default-discovery naming. [675159c](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/675159cbcbdba304c8768fdc7fc05b39e3c286b6)

## [0.1.5](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.4...0.1.5) - 2021-06-24

### Fixed

*   Prevent rate-limiting during vul db download. [b62ad41](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/b62ad41b531c908a3aa37d014a50f6441eb43b07)

## [0.1.4](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.3...0.1.4) - 2021-06-23

### Added

*   Download CVE detail from nist. [e2b7b6c](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/e2b7b6cb583b8a424ce5e05d6dac3836301cbfb1)
*   Install unzip into Docker image. [bebd5fa](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/bebd5fa702f71a520604f8be349f259c0030ba6f)

### Changed

*   Update trivy to 0.18.3. [92848be](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/92848be7b2b0467b5b74c90557f8943ae1bf24c2)
*   Remove tag from :analysis/current-discovery identity. [eb5f548](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/eb5f54887ca498e0f05ebd160040ffd6d692d9b8)

## [0.1.3](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.2...0.1.3) - 2021-06-22

### Added

*   Add :vulnerability/report. [59ca8b2](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/59ca8b2bfa1c7cb36b20402b5a4d993310b57be4)

## [0.1.2](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.1...0.1.2) - 2021-06-18

### Added

*   Record latest default branch analysis. [336e65b](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/336e65bab8b487e4e8dcac6172a619773c6ce1f5)

## [0.1.1](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/compare/0.1.0...0.1.1) - 2021-05-31

## [0.1.0](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/tree/0.1.0) - 2021-05-18

### Added

*   Initial commit. [5399394](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/5399394ab3ca7ae1e721934eff791720ed8332f8)
*   Add timestamps to transacted data. [#38](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/issues/38)
*   Scan unlinked images. [7f237be](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/7f237be51065e8d16c44bb4713af3108f73e17f2)
*   Transact os and package sources. [#117](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/issues/117)

### Changed

*   Update trivy to 0.17.0. [9727eed](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/9727eedec69e2ae817f201bfaa3f8d61153a9df0)
*   Update trivy to 0.17.1. [ecacdf0](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/ecacdf0bffda20b10ed3125e06bec5416bfe4f1a)
*   Update trivy to 0.17.2. [1287f20](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/1287f20d5b727dcc94fdf99c8e232ce2cc1b62f8)
*   Update trivy to 0.18.1. [3524cb8](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/3524cb82cce49dde5b1e767640aba2d1a538c39e)

### Fixed

*   Wrap trivy json report parsing in error handler. [278bd79](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/commit/278bd7983cc05c82dea0990166ccb46d8c8c7c59)
*   Duplicate package fix entities. [#75](https://github.com/atomist-skills/docker-vulnerability-scanner-skill/issues/75)
